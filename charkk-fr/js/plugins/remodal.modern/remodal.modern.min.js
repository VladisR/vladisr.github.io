!function(e,n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(e,t)}):"object"==typeof exports?n(e,require("jquery")):n(e,e.jQuery)}(this,function(t,s){"use strict";var o,r,d="remodal",i=t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.NAMESPACE||d,l=s.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(t){return t+"."+i}).join(" "),c=s.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(t){return t+"."+i}).join(" "),p=s.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.DEFAULTS),u={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},m="confirmation",f="cancellation",g=void 0!==(t=document.createElement("div").style).animationName||void 0!==t.WebkitAnimationName||void 0!==t.MozAnimationName||void 0!==t.msAnimationName||void 0!==t.OAnimationName,h=/iPad|iPhone|iPod/.test(navigator.platform);function v(t){if(g&&"none"===t.css("animation-name")&&"none"===t.css("-webkit-animation-name"))return 0;for(var e,n=t.css("animation-duration")||t.css("-webkit-animation-duration")||"0s",a=t.css("animation-delay")||t.css("-webkit-animation-delay")||"0s",i=t.css("animation-iteration-count")||t.css("-webkit-animation-iteration-count")||"1",n=n.split(", "),a=a.split(", "),i=i.split(", "),o=0,s=n.length,r=Number.NEGATIVE_INFINITY;o<s;o++)r<(e=parseFloat(n[o])*parseInt(i[o],10)+parseFloat(a[o]))&&(r=e);return r}function $(){if(s(document).height()<=s(window).height())return 0;var t,e=document.createElement("div"),n=document.createElement("div");return e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e),t=e.offsetWidth,e.style.overflow="scroll",n.style.width="100%",e.appendChild(n),n=n.offsetWidth,e.parentNode.removeChild(e),t-n}function a(){var t,e,n,a;h||(t=s("html"),e=y("is-locked"),t.hasClass(e)&&(a=s(document.body),n=parseInt(a.css("padding-right"),10)-$(),a.css("padding-right",n+"px"),t.removeClass(e)))}function C(t,e,n,a){var i=y("is",e),o=[y("is",u.CLOSING),y("is",u.OPENING),y("is",u.CLOSED),y("is",u.OPENED)].join(" ");t.$bg.removeClass(o).addClass(i),t.$overlay.removeClass(o).addClass(i),t.$wrapper.removeClass(o).addClass(i),t.$modal.removeClass(o).addClass(i),t.state=e,n||t.$modal.trigger({type:e,reason:a},[{reason:a}])}function O(t,e,n){function a(t){t.target===this&&o++}function i(t){t.target===this&&0==--o&&(s.each(["$bg","$overlay","$wrapper","$modal"],function(t,e){n[e].off(l+" "+c)}),e())}var o=0;s.each(["$bg","$overlay","$wrapper","$modal"],function(t,e){n[e].on(l,a).on(c,i)}),t(),0===v(n.$bg)&&0===v(n.$overlay)&&0===v(n.$wrapper)&&0===v(n.$modal)&&(s.each(["$bg","$overlay","$wrapper","$modal"],function(t,e){n[e].off(l+" "+c)}),e())}function E(n){n.state!==u.CLOSED&&(s.each(["$bg","$overlay","$wrapper","$modal"],function(t,e){n[e].off(l+" "+c)}),n.$bg.removeClass(n.settings.modifier),n.$overlay.addClass("is-multiple"),n.$wrapper.hide(),a(),C(n,u.CLOSED,!0))}function y(){for(var t=i,e=0;e<arguments.length;++e)t+="-"+arguments[e];return t}function e(){var t,e=location.hash.replace("#","");if(e){try{t=s("[data-"+d+'-id="'+e+'"]')}catch(t){}t&&t.length&&(e=s[d].lookup[t.data(d)])&&e.settings.hashTracking&&e.open()}else o&&o.state===u.OPENED&&o.settings.hashTracking&&o.close()}function w(t,e){var n=s(document.body),a=this;a.settings=s.extend({},p,e),a.index=s[d].lookup.push(a)-1,a.state=u.CLOSED,a.$overlay=s("."+y("overlay")),null!==a.settings.appendTo&&a.settings.appendTo.length&&(n=s(a.settings.appendTo)),a.$overlay.length||(a.$overlay=s("<div>").addClass(y("overlay")+" "+y("is",u.CLOSED)).hide(),n.append(a.$overlay)),a.$bg=s("."+y("bg")).addClass(y("is",u.CLOSED)),a.$modal=t.addClass(i+" "+y("is-initialized")+" "+a.settings.modifier+" "+y("is",u.CLOSED)).attr("tabindex","-1"),a.$wrapper=s("<div>").addClass(y("wrapper")+" "+a.settings.modifier+" "+y("is",u.CLOSED)).hide().append(a.$modal),n.append(a.$wrapper),a.$wrapper.on("click."+i,"[data-"+d+'-action="close"]',function(t){t.preventDefault(),a.close()}),a.$wrapper.on("click."+i,"[data-"+d+'-action="cancel"]',function(t){t.preventDefault(),a.$modal.trigger(f),a.settings.closeOnCancel&&a.close(f)}),a.$wrapper.on("click."+i,"[data-"+d+'-action="confirm"]',function(t){t.preventDefault(),a.$modal.trigger(m),a.settings.closeOnConfirm&&a.close(m)}),a.$wrapper.on("click."+i,function(t){s(t.target).hasClass(y("wrapper"))&&a.settings.closeOnOutsideClick&&a.close()})}w.prototype.open=function(){var t,e,n,a,i=this;i.state!==u.OPENING&&i.state!==u.CLOSING&&((a=i.$modal.attr("data-"+d+"-id"))&&i.settings.hashTracking&&(r=s(window).scrollTop(),location.hash=a),o&&o!==i&&E(o),o=i,h||(a=s("html"),t=y("is-locked"),a.hasClass(t)||(n=s(document.body),e=parseInt(n.css("padding-right"),10)+$(),n.css("padding-right",e+"px"),a.addClass(t))),i.$bg.addClass(i.settings.modifier),i.$overlay.addClass(i.settings.modifier).show(),i.$wrapper.show().scrollTop(0),i.$modal.focus(),O(function(){C(i,u.OPENING)},function(){C(i,u.OPENED)},i))},w.prototype.close=function(t){var e=this;e.state!==u.OPENING&&e.state!==u.CLOSING&&e.state!==u.CLOSED&&(e.settings.hashTracking&&e.$modal.attr("data-"+d+"-id")===location.hash.substr(1)&&(location.hash="",s(window).scrollTop(r)),O(function(){C(e,u.CLOSING,!1,t)},function(){e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),a(),C(e,u.CLOSED,!1,t)},e))},w.prototype.getState=function(){return this.state},w.prototype.destroy=function(){var t=s[d].lookup;E(this),this.$wrapper.remove(),delete t[this.index],0===s.grep(t,function(t){return!!t}).length&&(this.$overlay.remove(),this.$bg.removeClass(y("is",u.CLOSING)+" "+y("is",u.OPENING)+" "+y("is",u.CLOSED)+" "+y("is",u.OPENED)))},s[d]={lookup:[]},s.fn[d]=function(n){var a,i;return this.each(function(t,e){null==(i=s(e)).data(d)?(a=new w(i,n),i.data(d,a.index),a.settings.hashTracking&&i.attr("data-"+d+"-id")===location.hash.substr(1)&&a.open()):a=s[d].lookup[i.data(d)]}),a},s(document).ready(function(){s(document).on("click","[data-"+d+"-target]",function(t){t.preventDefault();t=t.currentTarget.getAttribute("data-"+d+"-target"),t=s("[data-"+d+'-id="'+t+'"]');s[d].lookup[t.data(d)].open()}),s(document).find("."+i).each(function(t,e){var e=s(e),n=e.data(d+"-options");n?("string"==typeof n||n instanceof String)&&(n=function(t){for(var e,n,a={},i=0,o=(e=(t=t.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",")).split(",")).length;i<o;i++)e[i]=e[i].split(":"),("string"==typeof(n="string"==typeof(n=e[i][1])||n instanceof String?"true"===n||"false"!==n&&n:n)||n instanceof String)&&(n=isNaN(n)?n:+n),a[e[i][0]]=n;return a}(n)):n={},e[d](n)}),s(document).on("keydown."+i,function(t){o&&o.settings.closeOnEscape&&o.state===u.OPENED&&27===t.keyCode&&o.close()}),s(window).on("hashchange."+i,e)})});